<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Objects and Functions | Data Analysis and Processing with R based on IBIS data</title>
  <meta name="description" content="3 Objects and Functions | Data Analysis and Processing with R based on IBIS data" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Objects and Functions | Data Analysis and Processing with R based on IBIS data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="mushroom.jpg" />
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Objects and Functions | Data Analysis and Processing with R based on IBIS data" />
  
  
  <meta name="twitter:image" content="mushroom.jpg" />

<meta name="author" content="Kevin Donovan" />


<meta name="date" content="2019-10-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introducing-r-and-rstudio.html"/>
<link rel="next" href="using-dplyr.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Index</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#preface"><i class="fa fa-check"></i><b>1.1</b> Preface</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introducing R and Rstudio</a><ul>
<li class="chapter" data-level="2.1" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#intro"><i class="fa fa-check"></i><b>2.1</b> Intro</a></li>
<li class="chapter" data-level="2.2" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#why-use-r-for-data-analysis"><i class="fa fa-check"></i><b>2.2</b> Why use R for data analysis?</a></li>
<li class="chapter" data-level="2.3" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#r-and-rstudio-what-is-the-difference"><i class="fa fa-check"></i><b>2.3</b> R and RStudio: What is the difference?</a></li>
<li class="chapter" data-level="2.4" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>2.4</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#the-interface-of-rstudio"><i class="fa fa-check"></i><b>2.5</b> The interface of RStudio</a><ul>
<li class="chapter" data-level="2.5.1" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#console"><i class="fa fa-check"></i><b>2.5.1</b> Console</a></li>
<li class="chapter" data-level="2.5.2" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#scripts"><i class="fa fa-check"></i><b>2.5.2</b> Scripts</a></li>
<li class="chapter" data-level="2.5.3" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#rmd-files"><i class="fa fa-check"></i><b>2.5.3</b> RMD Files</a></li>
<li class="chapter" data-level="2.5.4" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#environment"><i class="fa fa-check"></i><b>2.5.4</b> Environment</a></li>
<li class="chapter" data-level="2.5.5" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#plots-packages-and-help"><i class="fa fa-check"></i><b>2.5.5</b> Plots, Packages, and Help</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introducing-r-and-rstudio.html"><a href="introducing-r-and-rstudio.html#file-directories-in-r"><i class="fa fa-check"></i><b>2.6</b> File Directories in R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="objects-and-functions.html"><a href="objects-and-functions.html"><i class="fa fa-check"></i><b>3</b> Objects and Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="objects-and-functions.html"><a href="objects-and-functions.html#intro-1"><i class="fa fa-check"></i><b>3.1</b> Intro</a></li>
<li class="chapter" data-level="3.2" data-path="objects-and-functions.html"><a href="objects-and-functions.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a></li>
<li class="chapter" data-level="3.3" data-path="objects-and-functions.html"><a href="objects-and-functions.html#objects"><i class="fa fa-check"></i><b>3.3</b> Objects</a></li>
<li class="chapter" data-level="3.4" data-path="objects-and-functions.html"><a href="objects-and-functions.html#object-classes-and-types"><i class="fa fa-check"></i><b>3.4</b> Object classes and types</a><ul>
<li class="chapter" data-level="3.4.1" data-path="objects-and-functions.html"><a href="objects-and-functions.html#vectors"><i class="fa fa-check"></i><b>3.4.1</b> Vectors</a></li>
<li class="chapter" data-level="3.4.2" data-path="objects-and-functions.html"><a href="objects-and-functions.html#matricies"><i class="fa fa-check"></i><b>3.4.2</b> Matricies</a></li>
<li class="chapter" data-level="3.4.3" data-path="objects-and-functions.html"><a href="objects-and-functions.html#lists"><i class="fa fa-check"></i><b>3.4.3</b> Lists</a></li>
<li class="chapter" data-level="3.4.4" data-path="objects-and-functions.html"><a href="objects-and-functions.html#data-frames"><i class="fa fa-check"></i><b>3.4.4</b> Data Frames</a></li>
<li class="chapter" data-level="3.4.5" data-path="objects-and-functions.html"><a href="objects-and-functions.html#types"><i class="fa fa-check"></i><b>3.4.5</b> Types</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="objects-and-functions.html"><a href="objects-and-functions.html#subsetting"><i class="fa fa-check"></i><b>3.5</b> Subsetting</a></li>
<li class="chapter" data-level="3.6" data-path="objects-and-functions.html"><a href="objects-and-functions.html#base-r"><i class="fa fa-check"></i><b>3.6</b> Base R</a></li>
<li class="chapter" data-level="3.7" data-path="objects-and-functions.html"><a href="objects-and-functions.html#environment-1"><i class="fa fa-check"></i><b>3.7</b> Environment</a></li>
<li class="chapter" data-level="3.8" data-path="objects-and-functions.html"><a href="objects-and-functions.html#putting-it-all-together-read.csv"><i class="fa fa-check"></i><b>3.8</b> Putting It All Together: read.csv</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="using-dplyr.html"><a href="using-dplyr.html"><i class="fa fa-check"></i><b>4</b> Using dplyr</a><ul>
<li class="chapter" data-level="4.1" data-path="using-dplyr.html"><a href="using-dplyr.html#intro-2"><i class="fa fa-check"></i><b>4.1</b> Intro</a></li>
<li class="chapter" data-level="4.2" data-path="using-dplyr.html"><a href="using-dplyr.html#dplyr-functions"><i class="fa fa-check"></i><b>4.2</b> dplyr Functions</a><ul>
<li class="chapter" data-level="4.2.1" data-path="using-dplyr.html"><a href="using-dplyr.html#select-filter-and-arrange"><i class="fa fa-check"></i><b>4.2.1</b> Select, filter, and arrange</a></li>
<li class="chapter" data-level="4.2.2" data-path="using-dplyr.html"><a href="using-dplyr.html#mutate-and-summarize"><i class="fa fa-check"></i><b>4.2.2</b> Mutate and summarize</a></li>
<li class="chapter" data-level="4.2.3" data-path="using-dplyr.html"><a href="using-dplyr.html#spread-gather-separate-and-unite"><i class="fa fa-check"></i><b>4.2.3</b> Spread, Gather, Separate and Unite</a></li>
<li class="chapter" data-level="4.2.4" data-path="using-dplyr.html"><a href="using-dplyr.html#renaming-variables"><i class="fa fa-check"></i><b>4.2.4</b> Renaming variables</a></li>
<li class="chapter" data-level="4.2.5" data-path="using-dplyr.html"><a href="using-dplyr.html#using-the-pipe"><i class="fa fa-check"></i><b>4.2.5</b> Using the pipe</a></li>
<li class="chapter" data-level="4.2.6" data-path="using-dplyr.html"><a href="using-dplyr.html#editing-factor-variables-recode-and-relevel"><i class="fa fa-check"></i><b>4.2.6</b> Editing factor variables: recode() and relevel()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html"><i class="fa fa-check"></i><b>5</b> Creating Graphs With ggplot2</a><ul>
<li class="chapter" data-level="5.1" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#base-r-vs.-ggplot2"><i class="fa fa-check"></i><b>5.1</b> Base R vs. ggplot2</a></li>
<li class="chapter" data-level="5.2" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#ggplot2"><i class="fa fa-check"></i><b>5.2</b> ggplot2</a><ul>
<li class="chapter" data-level="5.2.1" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>5.2.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#ggplot-aesthetics"><i class="fa fa-check"></i><b>5.3</b> ggplot Aesthetics</a><ul>
<li class="chapter" data-level="5.3.1" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#scatterplot"><i class="fa fa-check"></i><b>5.3.1</b> Scatterplot</a></li>
<li class="chapter" data-level="5.3.2" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#colors-in-r"><i class="fa fa-check"></i><b>5.3.2</b> Colors in R</a></li>
<li class="chapter" data-level="5.3.3" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#line-of-best-fit"><i class="fa fa-check"></i><b>5.3.3</b> Line of best fit</a></li>
<li class="chapter" data-level="5.3.4" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#box-and-whisker"><i class="fa fa-check"></i><b>5.3.4</b> Box and whisker</a></li>
<li class="chapter" data-level="5.3.5" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#barchart"><i class="fa fa-check"></i><b>5.3.5</b> Barchart</a></li>
<li class="chapter" data-level="5.3.6" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#other-aesthetics"><i class="fa fa-check"></i><b>5.3.6</b> Other aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#additional-customization"><i class="fa fa-check"></i><b>5.4</b> Additional customization</a><ul>
<li class="chapter" data-level="5.4.1" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#titles-and-labels"><i class="fa fa-check"></i><b>5.4.1</b> Titles and Labels</a></li>
<li class="chapter" data-level="5.4.2" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#colors"><i class="fa fa-check"></i><b>5.4.2</b> Colors</a></li>
<li class="chapter" data-level="5.4.3" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#sizes-and-shapes"><i class="fa fa-check"></i><b>5.4.3</b> Sizes and shapes</a></li>
<li class="chapter" data-level="5.4.4" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>5.4.4</b> Themes</a></li>
<li class="chapter" data-level="5.4.5" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#reversing-the-axes"><i class="fa fa-check"></i><b>5.4.5</b> Reversing the axes</a></li>
<li class="chapter" data-level="5.4.6" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>5.4.6</b> Facets</a></li>
<li class="chapter" data-level="5.4.7" data-path="creating-graphs-with-ggplot2.html"><a href="creating-graphs-with-ggplot2.html#exporting-your-plot"><i class="fa fa-check"></i><b>5.4.7</b> Exporting your plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="working-with-tables-in-r.html"><a href="working-with-tables-in-r.html"><i class="fa fa-check"></i><b>6</b> Working with Tables in R</a><ul>
<li class="chapter" data-level="6.1" data-path="working-with-tables-in-r.html"><a href="working-with-tables-in-r.html#intro-3"><i class="fa fa-check"></i><b>6.1</b> Intro</a></li>
<li class="chapter" data-level="6.2" data-path="working-with-tables-in-r.html"><a href="working-with-tables-in-r.html#creating-basic-tables-table-and-xtabs"><i class="fa fa-check"></i><b>6.2</b> Creating Basic Tables: table() and xtabs()</a></li>
<li class="chapter" data-level="6.3" data-path="working-with-tables-in-r.html"><a href="working-with-tables-in-r.html#tabular-data-analysis"><i class="fa fa-check"></i><b>6.3</b> Tabular Data Analysis</a><ul>
<li class="chapter" data-level="6.3.1" data-path="working-with-tables-in-r.html"><a href="working-with-tables-in-r.html#tests-for-independence"><i class="fa fa-check"></i><b>6.3.1</b> Tests for Independence</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html"><i class="fa fa-check"></i><b>7</b> Statistical Fundamentals</a><ul>
<li class="chapter" data-level="7.1" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#intro-4"><i class="fa fa-check"></i><b>7.1</b> Intro</a></li>
<li class="chapter" data-level="7.2" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#statistical-inference"><i class="fa fa-check"></i><b>7.2</b> Statistical Inference</a><ul>
<li class="chapter" data-level="7.2.1" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#parameter-estimation-mean-median-tutorial-quantiles"><i class="fa fa-check"></i><b>7.2.1</b> Parameter Estimation: Mean, Median, tutorial, Quantiles</a></li>
<li class="chapter" data-level="7.2.2" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#accounting-for-estimation-variance-and-hypothesis-testing"><i class="fa fa-check"></i><b>7.2.2</b> Accounting for estimation variance and hypothesis testing</a></li>
<li class="chapter" data-level="7.2.3" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#confidence-intervals"><i class="fa fa-check"></i><b>7.2.3</b> Confidence intervals</a></li>
<li class="chapter" data-level="7.2.4" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#hypothesis-testing"><i class="fa fa-check"></i><b>7.2.4</b> Hypothesis testing</a></li>
<li class="chapter" data-level="7.2.5" data-path="statistical-fundamentals.html"><a href="statistical-fundamentals.html#hypothesis-testing-with-means"><i class="fa fa-check"></i><b>7.2.5</b> Hypothesis Testing with Means</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html"><i class="fa fa-check"></i><b>8</b> Regression Analysis Methods</a><ul>
<li class="chapter" data-level="8.1" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#intro-5"><i class="fa fa-check"></i><b>8.1</b> Intro</a></li>
<li class="chapter" data-level="8.2" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#linear-regression"><i class="fa fa-check"></i><b>8.2</b> Linear Regression</a><ul>
<li class="chapter" data-level="8.2.1" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#motivation"><i class="fa fa-check"></i><b>8.2.1</b> Motivation</a></li>
<li class="chapter" data-level="8.2.2" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#methodology"><i class="fa fa-check"></i><b>8.2.2</b> Methodology</a></li>
<li class="chapter" data-level="8.2.3" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#overview"><i class="fa fa-check"></i><b>8.2.3</b> Overview</a></li>
<li class="chapter" data-level="8.2.4" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#example-1-continuous-predictors"><i class="fa fa-check"></i><b>8.2.4</b> Example 1: Continuous predictors</a></li>
<li class="chapter" data-level="8.2.5" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#example-2-categorical-predictors"><i class="fa fa-check"></i><b>8.2.5</b> Example 2: Categorical predictors</a></li>
<li class="chapter" data-level="8.2.6" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#diagnostics"><i class="fa fa-check"></i><b>8.2.6</b> Diagnostics</a></li>
<li class="chapter" data-level="8.2.7" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#anova-and-ancova"><i class="fa fa-check"></i><b>8.2.7</b> ANOVA and ANCOVA</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#logistic-regression"><i class="fa fa-check"></i><b>8.3</b> Logistic regression</a><ul>
<li class="chapter" data-level="8.3.1" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#methodology-1"><i class="fa fa-check"></i><b>8.3.1</b> Methodology</a></li>
<li class="chapter" data-level="8.3.2" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#example-1-continuous-covariates"><i class="fa fa-check"></i><b>8.3.2</b> Example 1: Continuous Covariates</a></li>
<li class="chapter" data-level="8.3.3" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#example-2-categorical-covariates"><i class="fa fa-check"></i><b>8.3.3</b> Example 2: Categorical Covariates</a></li>
<li class="chapter" data-level="8.3.4" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#prediction"><i class="fa fa-check"></i><b>8.3.4</b> Prediction</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#mixed-models"><i class="fa fa-check"></i><b>8.4</b> Mixed Models</a><ul>
<li class="chapter" data-level="8.4.1" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#motivation-1"><i class="fa fa-check"></i><b>8.4.1</b> Motivation</a></li>
<li class="chapter" data-level="8.4.2" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#example-mullen-composite-and-visit"><i class="fa fa-check"></i><b>8.4.2</b> Example: Mullen composite and Visit</a></li>
<li class="chapter" data-level="8.4.3" data-path="regression-analysis-methods.html"><a href="regression-analysis-methods.html#interpreting-results-time-dependent-covariates"><i class="fa fa-check"></i><b>8.4.3</b> Interpreting results: time dependent covariates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html"><i class="fa fa-check"></i><b>9</b> Documenting your results with R Markdown</a><ul>
<li class="chapter" data-level="9.1" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#intro-6"><i class="fa fa-check"></i><b>9.1</b> Intro</a></li>
<li class="chapter" data-level="9.2" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#starting-your-r-markdown"><i class="fa fa-check"></i><b>9.2</b> Starting Your R Markdown</a></li>
<li class="chapter" data-level="9.3" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#understanding-the-r-markdown-editor"><i class="fa fa-check"></i><b>9.3</b> Understanding the R Markdown editor</a><ul>
<li class="chapter" data-level="9.3.1" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#prelude"><i class="fa fa-check"></i><b>9.3.1</b> Prelude</a></li>
<li class="chapter" data-level="9.3.2" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#chunk"><i class="fa fa-check"></i><b>9.3.2</b> Chunk</a></li>
<li class="chapter" data-level="9.3.3" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#non-chunk"><i class="fa fa-check"></i><b>9.3.3</b> Non-chunk</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#creating-your-document-from-the-r-markdown-file"><i class="fa fa-check"></i><b>9.4</b> Creating your document from the R Markdown file</a></li>
<li class="chapter" data-level="9.5" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#creating-tables-with-r-markdown"><i class="fa fa-check"></i><b>9.5</b> Creating tables with R Markdown</a><ul>
<li class="chapter" data-level="9.5.1" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#summary-statistics"><i class="fa fa-check"></i><b>9.5.1</b> Summary statistics</a></li>
<li class="chapter" data-level="9.5.2" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#general-tables"><i class="fa fa-check"></i><b>9.5.2</b> General tables</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="documenting-your-results-with-r-markdown.html"><a href="documenting-your-results-with-r-markdown.html#practice-with-r-markdown"><i class="fa fa-check"></i><b>9.6</b> Practice with R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html"><i class="fa fa-check"></i><b>10</b> Loops and Functional Programming</a><ul>
<li class="chapter" data-level="10.1" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#intro-7"><i class="fa fa-check"></i><b>10.1</b> Intro</a></li>
<li class="chapter" data-level="10.2" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#loops"><i class="fa fa-check"></i><b>10.2</b> Loops</a><ul>
<li class="chapter" data-level="10.2.1" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#example-1-running-many-regression-models"><i class="fa fa-check"></i><b>10.2.1</b> Example 1: Running many regression models</a></li>
<li class="chapter" data-level="10.2.2" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#example-2-the-apply-functions"><i class="fa fa-check"></i><b>10.2.2</b> Example 2: The Apply Functions</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#functional-programming"><i class="fa fa-check"></i><b>10.3</b> Functional Programming</a><ul>
<li class="chapter" data-level="10.3.1" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#example-regression-analysis-as-a-function-call"><i class="fa fa-check"></i><b>10.3.1</b> Example: Regression Analysis as a Function Call</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#simulation-studies"><i class="fa fa-check"></i><b>10.4</b> Simulation Studies</a><ul>
<li class="chapter" data-level="10.4.1" data-path="loops-and-functional-programming.html"><a href="loops-and-functional-programming.html#setting-the-seed-reproducibility-in-simulation-studies"><i class="fa fa-check"></i><b>10.4.1</b> Setting the Seed: Reproducibility in Simulation Studies</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis and Processing with R based on IBIS data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="objects-and-functions" class="section level1">
<h1><span class="header-section-number">3</span> Objects and Functions</h1>
<div id="intro-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Intro</h2>
<p>Data processing and analysis in R essentially boils due to creating output and saving that output, either temporarily to use later in your analysis or permanently onto your computer’s hard drive for later reference or to share with others. In R, output is created using commands called  and when saving output temporarily to be used later in your R session, the output is saved as an .</p>
<p>For example, suppose you have a previously saved Excel dataset you wish to analyze by performing linear regression. First, you must load this Excel dataset into R, which is done using a function. However, you want to give this read-in dataset a name so that you easily reference it in your R session. Thus, you save the read-in dataset as an R object called excel_data. Then, you use another function on excel_data to run the linear regression, whose results you store as another object called fit_results to be easily accessible in your R session. Note that objects excel_data and fit_results are not stored permanently on your computer but are instead stored on the computer’s RAM. Thus, when your computer is restarted, these R objects will be deleted (though the Excel file itself is a permanent file on your computer: the form of the Excel dataset created when read-in by R is not permanent). A similar example is detailed in the following code using an IBIS dataset, where a linear regression model is fit where the outcome is AOSI Total Score at Month 12 and the independent variable is Age at Month 12.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Read-in Excel dataset using function called read.csv</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">read.csv</span>(<span class="st">&quot;Data/cross-sec_aosi.csv&quot;</span>) <span class="co"># look at the console: running command reads-in data, however data is not saved; cannot reference dataset using name since we have only read it in, not given it a name/saved it in R</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">excel_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/cross-sec_aosi.csv&quot;</span>,</a>
<a class="sourceLine" id="cb1-5" title="5">                       <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot; &quot;</span>)) <span class="co"># are telling R to take output from function read.csv (the read-in data) and save it as object excel_data</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co"># Can see dataset no longer pops up in console: when storing output as object, R does not print the output for you</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">excel_data <span class="co"># running just the object is a command: tells R to print out the output stored in the object. Now can easily reference dataset set using excel_data</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Run linear regression using ASOSI Total Score as outcome, Diagnosis as predictor variable.  Running regression models is discussed in detailed in Chapter 8</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">lm</span>(V12.aosi.total_score_<span class="dv">1</span>_<span class="dv">18</span><span class="op">~</span>V12.aosi.Candidate_Age, <span class="dt">data=</span>excel_data) <span class="co"># using AOSI at month 12</span></a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = V12.aosi.total_score_1_18 ~ V12.aosi.Candidate_Age, 
##     data = excel_data)
## 
## Coefficients:
##            (Intercept)  V12.aosi.Candidate_Age  
##                3.98890                 0.07879</code></pre>
<p>You can see that the end result is the estimated intercept and slope from your linear regression model. By the end of all of these tutorials, you will understand every step of the above code. By the end of this tutorial, you should be able to understand the above code in general as a series of functions and objects.</p>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">3.2</span> Functions</h2>
<p>Every time R is given a command, R produces the output specified from the command. As a simple example, suppose you wish to add 2 and 2.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="dv">2</span><span class="op">+</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>After running the above line of code, you will see R output the result of the addition in the console. The command + is called a function (specifically an operation, a class of commands/functions). For usability, mathematical operators such as +,-,/, and * have this form, although most functions have the following form:
fun(x,y,z)</p>
<p>where fun is the name of the function, and x,y, and z are options the user places in the function which modify how it operates. These options are called <strong>arguments</strong>. This example function has 3 arguments (x,y,z), however functions can have many more arguments for the user to manipulate. Note that all functions have default values for most of their arguments which will automatically be used without the user having to specify them.</p>
<p>As a more interesting example, suppose you want to read-in some data into R which you will analyze. The dataset is of a sample of children from IBIS, and includes site, geneder, and AOSI information at month 6 and month 12 visit. The dataset is found in the file <strong>cross-sec_aosi.csv</strong>. To do read this file in, we must choose the right function so R knows what we want it to do. A function that will do this command is <strong>read.csv()</strong>. This function has default values for all of its arguments, except for the first one where you much specify the file path of CSV dataset you want to read-in. First, let’s leave the default values as is and read-in the data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">read.csv</span>(<span class="st">&quot;Data/cross-sec_aosi.csv&quot;</span>)</a></code></pre></div>
<p>From the previous tutorial, since the file is in our working directory, we only need to specify the file name and not the whole path. Notice that the file path needs to be in quotes (use of quotes will be discussed later in this chapter). After you run the code, you will notice the dataset is printed in the R console. For reading in other files types, different functions are needed. Many of these are found in the package <strong>haven</strong> which includes functions such as <strong>read_sas()</strong> for SAS files and <strong>read_spss()</strong> for SPSS files.</p>
<p>When learning and using functions it is useful to submit the command ?fun where fun is the name of the chosen function. For example, try running ?read.csv in your script.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># ?read.csv</span></a></code></pre></div>
<p>You will see in the lower right-hand window, the Help tab will open up along with a description of the function read.csv(), including all of its arguments, some notes about the function and its usage, and some examples to refer to.</p>
<p>However, this is not a visually pleasing way to view the data. Furthermore, this dataset has not be given a name in R to reference, which will make using this data difficult to use in your R script All R has done is read-in the CSV data, converted it into a format it understands, and then printed this output. Actually storing this output in R and giving it a name so that it can be easily referenced later involves creating objects.</p>
</div>
<div id="objects" class="section level2">
<h2><span class="header-section-number">3.3</span> Objects</h2>
<p>Output generated in R can be temporarily saved in your R session with a name to be referenced later. This saved output is called an <strong>object</strong>. The most intuitive example is reading in data to be analyzed. Let’s read-in the previous Excel sheet and save it as an object named <strong>excel_data</strong>. To save output as an object with a name, the command is</p>
<p>name &lt;- fun(…)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">excel_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/cross-sec_aosi.csv&quot;</span>)</a></code></pre></div>
<p>Now the dataset can be easily accessed by using excel_data in your code. For example, one way of intuitively viewing data in your R session is using the function <strong>View()</strong> (note: case matters in R).</p>
</div>
<div id="object-classes-and-types" class="section level2">
<h2><span class="header-section-number">3.4</span> Object classes and types</h2>
<p>Now that objects have been introduced, we will go into further detail about them which will be vital when using functions and understanding errors. While you can use R without understanding this section, learning this information will help you understand the structure of R which is essential when using R on real data.</p>
<p>Every object in R is classified into a class and a type. The object’s class represents the general structure of the object as a whole, while the type is a more specific description of the actual contents of the object. These concepts are best explained with examples.</p>
<p>The classes that you will see likely see in practice are a <strong>vector, matrix, list,</strong> and <strong>data frame</strong>. The types you will see in pratice are numeric, character (letters/words), factor (group levels), and logical (TRUE/T or FALSE/F). <strong>Numeric</strong> means the values are interpreted as numbers. <strong>Character</strong> type refers to values which are “strings” (combinations) of letters, words, symbols, numbers, etc. surrounded by quotation marks. <strong>Factor</strong> types are explained later in this chapter. The values TRUE and FALSE (caps required, no quotations) have a specific meaning in R, and objects with these values are referred to as <strong>logical</strong> types (these are not character types, values not surrounded by quotes). For all types, the value <strong>NA</strong> (caps required, no quotes) is interpreted by R as a missing value; NA is the <strong>only</strong> value in R which refers to a missing value.</p>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Vectors</h3>
<p>A <strong>vector</strong> is a single-dimension collection of values, all of which must have the same type. For example, (0,1,2,3) is a numeric vector of length 4, and (“Yes”, “No”, “Maybe”) is a character vector of length 3. When working with a dataset, each row can be considered as a vector as can each column. As with all objects, these vectors can be created and saved with a name in R. This is done using <strong>c(…)</strong> where the elements of the vector are place inside () separated by commas. Some examples are found below. You can think of a vector as either a variable (column) in your dataset or an observation (row) in your dataset. To index vectors, use [] where the indicies of interest are placed inside the []; see below for an example. One function of use with vectors is <strong>length()</strong>, which will output the number of values in the vector.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># outputs as vector</span></a></code></pre></div>
<pre><code>## [1] 0 1 2 3</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;Yes&quot;   &quot;No&quot;    &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">num_vect &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># save vector as named object</span></a>
<a class="sourceLine" id="cb13-2" title="2">char_vect &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>)</a>
<a class="sourceLine" id="cb13-3" title="3"></a>
<a class="sourceLine" id="cb13-4" title="4">num_vect <span class="co"># outputs saved vector in console</span></a></code></pre></div>
<pre><code>## [1] 0 1 2 3</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">char_vect</a></code></pre></div>
<pre><code>## [1] &quot;Yes&quot;   &quot;No&quot;    &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">num_vect[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co"># a:b creates sequence of integers from a to b</span></a></code></pre></div>
<pre><code>## [1] 0 1 2</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">char_vect[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)] <span class="co"># selecting the 1st and 2nd entries</span></a></code></pre></div>
<pre><code>## [1] &quot;Yes&quot; &quot;No&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">char_vect[<span class="dv">1</span>,<span class="dv">2</span>] <span class="co"># Creates an error; need to have single entity inside []</span></a></code></pre></div>
<pre><code>## Error in char_vect[1, 2]: incorrect number of dimensions</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">length</span>(num_vect) <span class="co"># length=3, vector has 3 elements</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
</div>
<div id="matricies" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Matricies</h3>
<p>A <strong>matrix</strong> is a two-dimensional collection of values, all of which need to be the same type. When viewing a matrix in R, it largely looks like an Excel spreadsheet. In standard data analysis, matricies are rarely used so they are not covered here in much detail. An example of a matrix is shown below; they can created using the <strong>matrix()</strong> function, though you will rarely if ever create matricies in standard data analysis. It is more important to know how to manipulate them, which is discussed in a later section of this chapter. Notice that although numbers 1,2,3 were specified as entries, these show up as “1”,“2”, and “3” (characters) respectively in the outputted matrix. This called <strong>coercion</strong>, where R forces values into a certain type to meet the requires of the class of the object. It is important to recognize when coercion happens and why, since some commands only work on specific types of values (for example when taking the mean of a variable in your dataset, the values need to be numeric).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>), <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">2</span>) <span class="co"># numbers forced into characters to match type with the non-numeric entries of the matrix</span></a></code></pre></div>
<pre><code>##      [,1] [,2]   
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;</code></pre>
<p>You can also combine multiple vectors into a matrix, either row-wise or column-wise. This is done using the <strong>rbind()</strong> and <strong>cbind()</strong> functions respectively.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1">nums &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># create numeric vector</span></a>
<a class="sourceLine" id="cb27-2" title="2">words &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>)</a>
<a class="sourceLine" id="cb27-3" title="3"></a>
<a class="sourceLine" id="cb27-4" title="4"><span class="co"># notice since the vectors were saved as objects before binding, the names show up as names for the rows for rbind and columns for cbind respectively.  In a matrix, the rows and/or cols can be given names as shown here</span></a>
<a class="sourceLine" id="cb27-5" title="5"><span class="kw">rbind</span>(nums, words) </a></code></pre></div>
<pre><code>##       [,1]  [,2] [,3]   
## nums  &quot;1&quot;   &quot;2&quot;  &quot;3&quot;    
## words &quot;Yes&quot; &quot;No&quot; &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">cbind</span>(nums, words)</a></code></pre></div>
<pre><code>##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;</code></pre>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">3.4.3</span> Lists</h3>
<p>Recall the two above classes required all elements be of the same type; for example, you cannot have both number and character values in the object. <strong>Lists</strong> allow values to be of different types. Essentially, a list of a collection of other objects. Generally, lists will be a collection of different vectors and/or matricies. For example, your list could be composed of 2 vectors, one of which with numeric values and the other with character values. Any combination of vectors and/or matricies is allowed, along with many other possibilities (including a list composed of multiple lists). Lists are created using the <strong>list()</strong> function, as shown in the following example.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1">nums &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># create numeric vector</span></a>
<a class="sourceLine" id="cb31-2" title="2">words &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>) <span class="co"># create character</span></a>
<a class="sourceLine" id="cb31-3" title="3"></a>
<a class="sourceLine" id="cb31-4" title="4"><span class="co"># store the 2 vectors together as a list</span></a>
<a class="sourceLine" id="cb31-5" title="5"><span class="kw">list</span>(nums, words) </a></code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3
## 
## [[2]]
## [1] &quot;Yes&quot;   &quot;No&quot;    &quot;Maybe&quot;</code></pre>
<p>Each element of the list is indexed by [[]]; in the above example, you can see the 2 vectors used to create the list. Notice the numeric vector does not have quotes surrounding it; within the list, the vector is still considered numeric as desired. Lists are useful since they allow you to hold objects that are of different classes together in a single entity, making them easier to keep track of and reference later. You will see lists come up very frequently when using R for data analysis and it is important to become comfortable with them.</p>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">3.4.4</span> Data Frames</h3>
<p>Generally, when you read-in data as an object, it will be stored in R as a <strong>data frame</strong>. Essentially, a data frame is a list of the individual columns/variables which compose the dataset, where the columns are considered vectors. That is, a data frame is a list of vectors, but when outputted is shown like a matrix with rows and columns instead of the usual look of a list. While data frames can be viewed in the console like all objects by just entering their name, it is most useful to see them using the <strong>View()</strong> function. Another useful function for data frames (and matricies) is <strong>dim()</strong>, which will output the number of observations (rows) and columns (variables) in your dataset. The function <strong>names()</strong> will output the column (variable) names of your dataset. This function can also be used in a similar way with vectors, matricies, and lists.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1">excel_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/AOSI_small.csv&quot;</span>) <span class="co"># read-in data as data frame, save as named object</span></a>
<a class="sourceLine" id="cb33-2" title="2">excel_data <span class="co"># view dataset in console; hard to read especially for datasets of usual size</span></a></code></pre></div>
<pre><code>##    Identifiers  GROUP Study_Site Gender V06.aosi.Candidate_Age
## 1            1 HR_ASD        PHI   Male                    7.1
## 2            2 HR_ASD        PHI   Male                    6.1
## 3            3 HR_ASD        PHI   Male                    6.6
## 4            4 HR_ASD        PHI   Male                      .
## 5            5 HR_neg        PHI   Male                    6.8
## 6            6 HR_neg        PHI   Male                      .
## 7            7 HR_ASD        PHI   Male                    6.2
## 8            8 HR_ASD        PHI   Male                    6.2
## 9            9 HR_neg        PHI   Male                      .
## 10          10 HR_ASD        PHI   Male                      .
##    V06.aosi.total_score_1_18 V12.aosi.Candidate_Age
## 1                          8                   12.5
## 2                         18                   12.4
## 3                          4                   12.9
## 4                          .                   12.7
## 5                          6                      .
## 6                          .                   12.1
## 7                         16                   12.3
## 8                         10                   12.2
## 9                          .                   12.4
## 10                         .                   12.2
##    V12.aosi.total_score_1_18
## 1                          3
## 2                         10
## 3                          2
## 4                          3
## 5                          .
## 6                          4
## 7                          4
## 8                         14
## 9                          1
## 10                         7</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1"><span class="co"># View(excel_data) </span></a>
<a class="sourceLine" id="cb35-2" title="2"><span class="co"># can see dataset pops up in tab in upper right window, easy to see/scroll through</span></a>
<a class="sourceLine" id="cb35-3" title="3"></a>
<a class="sourceLine" id="cb35-4" title="4"><span class="kw">names</span>(excel_data)</a></code></pre></div>
<pre><code>## [1] &quot;Identifiers&quot;               &quot;GROUP&quot;                    
## [3] &quot;Study_Site&quot;                &quot;Gender&quot;                   
## [5] &quot;V06.aosi.Candidate_Age&quot;    &quot;V06.aosi.total_score_1_18&quot;
## [7] &quot;V12.aosi.Candidate_Age&quot;    &quot;V12.aosi.total_score_1_18&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">dim</span>(excel_data)</a></code></pre></div>
<pre><code>## [1] 10  8</code></pre>
</div>
<div id="types" class="section level3">
<h3><span class="header-section-number">3.4.5</span> Types</h3>
<p>Object types are a more intuitive idea and have been mentioned above; types describe the actual values inside the object. Recall the common types are character (letters/words), numeric, factor (group levels), and logical (TRUE/T or FALSE/F).</p>
<p>Recall that for vectors and matricies, all entries must be the same type. Thus, a vector/matrix with all numeric values is of type numeric, with all character values is of type character, with all logical vaues is of type logical, etc. Since lists and data frames of made of up a collection of vectors, matricies, and/or lists, they do not have an explicit “type”. To see what type an object is, you can use the function <strong>typeof()</strong>. Note that when a list or data frame is inputted into the function, “list” or “df” respectively is returned.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">num_vect &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb39-2" title="2">char_vect &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>)</a>
<a class="sourceLine" id="cb39-3" title="3">log_vect &lt;-<span class="st"> </span><span class="kw">c</span>(T, F, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb39-4" title="4"></a>
<a class="sourceLine" id="cb39-5" title="5"><span class="kw">typeof</span>(num_vect)</a></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">typeof</span>(char_vect)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">typeof</span>(log_vect)</a></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1">matrix_ex &lt;-<span class="st"> </span><span class="kw">cbind</span>(num_vect, char_vect, log_vect)</a>
<a class="sourceLine" id="cb45-2" title="2"><span class="kw">typeof</span>(matrix_ex)</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1">list_ex &lt;-<span class="st"> </span><span class="kw">list</span>(num_vect, char_vect, log_vect, matrix_ex)</a>
<a class="sourceLine" id="cb47-2" title="2">list_ex</a></code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3 4
## 
## [[2]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;
## 
## [[3]]
## [1]  TRUE FALSE  TRUE FALSE
## 
## [[4]]
##      num_vect char_vect log_vect
## [1,] &quot;1&quot;      &quot;a&quot;       &quot;TRUE&quot;  
## [2,] &quot;2&quot;      &quot;b&quot;       &quot;FALSE&quot; 
## [3,] &quot;3&quot;      &quot;c&quot;       &quot;TRUE&quot;  
## [4,] &quot;4&quot;      &quot;d&quot;       &quot;FALSE&quot;</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" title="1"><span class="kw">typeof</span>(list_ex) <span class="co"># returns &quot;list&quot;; lists have no single type such as numeric, character, etc.</span></a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>The factor type requires some explanation. Most character variables you will work with indicate group membership; for example a gender variable recorded as “Male”, “Female”, or “Other” or a treatment variable recorded as “Treatment” or “Control”. We want to treat these as groups, not separate words/strings. This can be done using the factor type. Note for many functions were you want the variable to be treated as a factor, for example in linear regression, R will convert the character variable into an appropriate factor variable. If the variable is actually numeric but you want it to reflect group membership (for example a 0, 1 variable indicating treatment), you likely will have to convert it yourself.</p>
<p>A factor variable, i.e. a vector of type factor, has two parts: the vector of values as well as a vector indicating what the factor “levels” (essentially labels for the groups) are. For example, consider the following character variable indicating the genders in a set of observations.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1"><span class="co"># M is male, F is female, O is other</span></a>
<a class="sourceLine" id="cb51-2" title="2">genders &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;O&quot;</span>, <span class="st">&quot;O&quot;</span>)</a>
<a class="sourceLine" id="cb51-3" title="3">genders <span class="co"># print character vector</span></a></code></pre></div>
<pre><code>## [1] &quot;M&quot; &quot;F&quot; &quot;M&quot; &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;O&quot; &quot;O&quot;</code></pre>
<p>Let’s convert this to a factor variable; by default, R will automatically set the factor levels to the unique values in the variable (M, F, and O in this case). This is done using the <strong>factor()</strong> function. To see the levels assigned to a factor variable, use the function <strong>levels()</strong>.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1"><span class="co"># M is male, F is female, O is other</span></a>
<a class="sourceLine" id="cb53-2" title="2">genders_fact &lt;-<span class="st"> </span><span class="kw">factor</span>(genders)</a>
<a class="sourceLine" id="cb53-3" title="3">genders_fact</a></code></pre></div>
<pre><code>## [1] M F M M F F F O O
## Levels: F M O</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">levels</span>(genders_fact)</a></code></pre></div>
<pre><code>## [1] &quot;F&quot; &quot;M&quot; &quot;O&quot;</code></pre>
<p>To alter the levels, you overwrite the levels() output as seen below. Since the levels of a factor variable are actually a R object, you edit them by overwriting this object which is accessed using the levels() function. We overwrite the levels object by specifying a new character vector to define the levels; can see from the levels() call that they are saved as a character vector. After the levels are changed, you will see these changes also occur in the variable values. Note that you can also convert back to a character/numeric variable by using the <strong>as.character()/as.numeric()</strong> functions respectively.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1"><span class="co"># Original variable, levels</span></a>
<a class="sourceLine" id="cb57-2" title="2">genders_fact</a></code></pre></div>
<pre><code>## [1] M F M M F F F O O
## Levels: F M O</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1"><span class="kw">levels</span>(genders_fact)</a></code></pre></div>
<pre><code>## [1] &quot;F&quot; &quot;M&quot; &quot;O&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1"><span class="co"># Overwrite levels</span></a>
<a class="sourceLine" id="cb61-2" title="2"><span class="kw">levels</span>(genders_fact) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Other&quot;</span>) <span class="co"># pay attention to order of levels, need to follow order as F-&gt;Female, M-&gt;Male, O-&gt;Other.</span></a>
<a class="sourceLine" id="cb61-3" title="3"></a>
<a class="sourceLine" id="cb61-4" title="4"><span class="co"># New variable, levels</span></a>
<a class="sourceLine" id="cb61-5" title="5">genders_fact</a></code></pre></div>
<pre><code>## [1] Male   Female Male   Male   Female Female Female Other  Other 
## Levels: Female Male Other</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1"><span class="kw">levels</span>(genders_fact)</a></code></pre></div>
<pre><code>## [1] &quot;Female&quot; &quot;Male&quot;   &quot;Other&quot;</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1"><span class="co"># convert back to character</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="kw">as.character</span>(genders_fact)</a></code></pre></div>
<pre><code>## [1] &quot;Male&quot;   &quot;Female&quot; &quot;Male&quot;   &quot;Male&quot;   &quot;Female&quot; &quot;Female&quot; &quot;Female&quot; &quot;Other&quot; 
## [9] &quot;Other&quot;</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1"><span class="co"># Can also do numeric levels</span></a>
<a class="sourceLine" id="cb67-2" title="2"><span class="kw">levels</span>(genders_fact) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb67-3" title="3">genders_fact</a></code></pre></div>
<pre><code>## [1] 0 1 0 0 1 1 1 2 2
## Levels: 1 0 2</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" title="1"><span class="co"># convert to numeric </span></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="kw">as.numeric</span>(genders_fact)</a></code></pre></div>
<pre><code>## [1] 2 1 2 2 1 1 1 3 3</code></pre>
<p>Most of the time in standard data analysis, you won’t have to manually convert variables to factor variables. When reading-in a dataset, you can have R automatically convert character variables to factors (will be covered in the next Chapter). When doing regression, R will automatically convert character variables to factors as well. However, for completeness and to understand certain errors which may occur when using R, it is useful to understand what factors are.</p>
<p>Understanding types is very important for using R. Certain functions only work on specific types; for example, you cannot compute the mean of a variable of character values. This concept will help you understand some errors that may come up.</p>
</div>
</div>
<div id="subsetting" class="section level2">
<h2><span class="header-section-number">3.5</span> Subsetting</h2>
<p>Often times you will need to select specific parts of an object to view or using in your analysis; for example, computing the mean of a specific variable in your dataset or viewing only specific observations in your dataset based on some chosen critieria. In these tutorials, this is referred to as subsetting. There are 2 main ways to subset objects in R: 1) using <strong>Base R</strong> functions and 2) using functions from the <strong>dplyr</strong> package. Base R refers to the functions built into R by default; i.e., functions that do not require a package to be installed in order to access. You will likely use the dplyr method most of the time. However, for completeness and since the Base R method is useful to understand how R operates, it is important that you understand both.</p>
</div>
<div id="base-r" class="section level2">
<h2><span class="header-section-number">3.6</span> Base R</h2>
<p>The tools for subsetting in Base R differ depending on what class your object is. These tutorials cover the classes discussed previously: vectors, matricies, lists, and data frames. In general, for object x of any class, subsetting is done using x[…], where the values placed inside [] will determine how the object is subset. Note that when subsetting, you are not changing the original object x, but are creating a new object which is a “subset”" of x.</p>
<p>First, let’s discuss this operation for vectors. Recall vectors are single-dimension collections of values of the same type, for example x=(1,2,3,4). Vectors are subset by stating the indicies you either want to select or omit inside the []. Suppose we wanted to keep 1 from the vector (1,2,3,4). Since this is the 1st value in the vector by order from left to right, we would use x[1]. If we want to keep all values except 1, i.e. (2,3,4), we would use x[-1]; adding a negative to an index removes its value. If you want to select multiple indicies to include or remove, for example (2,3), you must use x[c(2,3)]. That is, you have provide these indices as a vector inside the []; R does not understand what 2,3 is unless represented as a vector. See below for some examples of this subsetting in action.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1">num &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb71-2" title="2">char &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;e&#39;</span>,<span class="st">&#39;i&#39;</span>,<span class="st">&#39;o&#39;</span>,<span class="st">&#39;u&#39;</span>)</a>
<a class="sourceLine" id="cb71-3" title="3"></a>
<a class="sourceLine" id="cb71-4" title="4">num[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1">num[<span class="op">-</span><span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1]  2  4  6 10</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1">num[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># correct</span></a></code></pre></div>
<pre><code>## [1] 2 6</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1">num[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co"># 1:3 is interpretated in R as c(1,2,3), this notation is useful as a shortcut when selecting many values</span></a></code></pre></div>
<pre><code>## [1] 2 4 6</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">char[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1">char[<span class="op">-</span><span class="dv">4</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;e&quot; &quot;i&quot; &quot;u&quot;</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1">char[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># correct</span></a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;i&quot;</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1">char[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co"># 1:3 is interpretated in R as c(1,2,3), this notation is useful as a shortcut when selecting many values</span></a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;e&quot; &quot;i&quot;</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1"><span class="co"># num[c(1,-2)] # cannot mix positive and negative indicies, running line will give error</span></a>
<a class="sourceLine" id="cb87-2" title="2"><span class="co"># char[c(1,-2)] # cannot mix positive and negative indicies, running line will give error</span></a></code></pre></div>
<p>Second, let’s discuss matricies. Working with matricies is similar to working with vectors, the main difference being you can select indicies for two dimensions (rows and columns) instead of just one. Suppose x is a matrix. Then we can subset x using x[,] where row indicies go to the left of the comma and column indicies go to the right. To select all rows/columns leave the right/left side empty respectively. The rules for selecting indicies are the same as before: use a vector when selecting multiple indicies, use negative indicies to omit a row/column, and do not mix positive and negative indicies. If your matrix’s columns are named, you can also refer to these names inside [] as strings instead of referring to the index of the column. See below for some examples.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" title="1">nums &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># create numeric vector</span></a>
<a class="sourceLine" id="cb88-2" title="2">words &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>)</a>
<a class="sourceLine" id="cb88-3" title="3">logs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb88-4" title="4">matrix &lt;-<span class="st"> </span><span class="kw">cbind</span>(nums, words, logs)</a>
<a class="sourceLine" id="cb88-5" title="5"></a>
<a class="sourceLine" id="cb88-6" title="6">matrix[,<span class="kw">c</span>(<span class="st">&quot;nums&quot;</span>,<span class="st">&quot;words&quot;</span>)] <span class="co"># select words and nums columns using strings, as this matrix has column names</span></a></code></pre></div>
<pre><code>##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1">matrix[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)] <span class="co"># select words and nums columns by indicies</span></a></code></pre></div>
<pre><code>##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1">matrix[<span class="dv">1</span>,<span class="kw">c</span>(<span class="st">&quot;nums&quot;</span>,<span class="st">&quot;words&quot;</span>)] <span class="co"># select words and nums columns, select only 1st row</span></a></code></pre></div>
<pre><code>##  nums words 
##   &quot;1&quot; &quot;Yes&quot;</code></pre>
<p>Third, let’s discuss lists. Recall lists of collections of other objects, such as vectors, matricies, or other lists. Lists introduce [[]] as subset operator, used to select the specific objects in the collection. You can think of [[]] as selecting “outer” elements, and then using [] to subset these outer elements. You will seldom be subsetting lists, and generally will using be using [[]] when you do subset them.<br />
Another way to subset lists instead of [[]] is using $. Suppose you have a list x which contains two objects with the names x_1 and x_2 respectively. Then to select the first object, you either using x[[1]] from before or using x$x_1, or using x[[“x_1”]]. This will be referred to again next when we discuss data frames. Some examples are provided below.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1">nums &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># create numeric vector</span></a>
<a class="sourceLine" id="cb94-2" title="2">words &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Maybe&quot;</span>)</a>
<a class="sourceLine" id="cb94-3" title="3">logs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb94-4" title="4">matrix &lt;-<span class="st"> </span><span class="kw">cbind</span>(nums, words)</a>
<a class="sourceLine" id="cb94-5" title="5"></a>
<a class="sourceLine" id="cb94-6" title="6">example_lst &lt;-<span class="st"> </span><span class="kw">list</span>(matrix, logs) <span class="co"># create a list containing a matrix and vector, without names</span></a>
<a class="sourceLine" id="cb94-7" title="7">example_lst <span class="co"># notice the [[]] indexing each part of the list</span></a></code></pre></div>
<pre><code>## [[1]]
##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;
## 
## [[2]]
## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1">example_lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x_1=</span>matrix, <span class="dt">x_2=</span>logs) <span class="co"># create a list containing a matrix and vector, with names x_1 and x_2 respectively</span></a>
<a class="sourceLine" id="cb96-2" title="2">example_lst <span class="co"># notice the [[]] indicies have been replaced with their specified names</span></a></code></pre></div>
<pre><code>## $x_1
##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;
## 
## $x_2
## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1">example_lst[[<span class="dv">1</span>]] <span class="co"># selects the matrix from the list, its first element</span></a></code></pre></div>
<pre><code>##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1">example_lst<span class="op">$</span>x_<span class="dv">1</span> <span class="co"># also selects the matrix</span></a></code></pre></div>
<pre><code>##      nums words  
## [1,] &quot;1&quot;  &quot;Yes&quot;  
## [2,] &quot;2&quot;  &quot;No&quot;   
## [3,] &quot;3&quot;  &quot;Maybe&quot;</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1">example_lst[[<span class="dv">2</span>]] <span class="co"># selects the vector</span></a></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1">example_lst[[<span class="dv">2</span>]][<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)] <span class="co"># after selecting the vector, we can subset the vector using [] as discussed earlier</span></a></code></pre></div>
<pre><code>## [1]  TRUE FALSE</code></pre>
<p>Lastly, let’s discuss data frames. First, recall that a data frame is the type that is generally used when reading in or working with a dataset. Thus, it looks like a matrix; it has rows for the observations and columns for the variables. As a result, you can subset it using the same techniques as were used with matricies, with the column names being the variable names and the row indicies representing individual observations. However, also recall that a data frame is atcually a list of vectors representing the columns/variables of the dataset, but visualized in a row by column form. Thus, you can also subset a data frame using the $ technique for lists, where the variable name follows $ (since each variable is a element of the list). Some examples are provided below.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1">excel_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/AOSI_small.csv&quot;</span>) <span class="co"># read-in data as data frame, save as named object</span></a>
<a class="sourceLine" id="cb106-2" title="2">excel_data<span class="op">$</span>GROUP <span class="co"># select diagnosis group</span></a></code></pre></div>
<pre><code>##  [1] HR_ASD HR_ASD HR_ASD HR_ASD HR_neg HR_neg HR_ASD HR_ASD HR_neg HR_ASD
## Levels: HR_ASD HR_neg</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1">excel_data[,<span class="st">&quot;GROUP&quot;</span>] <span class="co"># select diagnosis group using matrix-style subsetting</span></a></code></pre></div>
<pre><code>##  [1] HR_ASD HR_ASD HR_ASD HR_ASD HR_neg HR_neg HR_ASD HR_ASD HR_neg HR_ASD
## Levels: HR_ASD HR_neg</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" title="1">excel_data[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="st">&quot;GROUP&quot;</span>] <span class="co"># select diagnosis group and 1st 5 observations, using matrix-style subsetting</span></a></code></pre></div>
<pre><code>## [1] HR_ASD HR_ASD HR_ASD HR_ASD HR_neg
## Levels: HR_ASD HR_neg</code></pre>
<p>When working with real datasets, you will likely manipulate them using the <strong>dplyr</strong> package and not Base R as discussed here. The next set of tutorials discusses using dplyr.</p>
</div>
<div id="environment-1" class="section level2">
<h2><span class="header-section-number">3.7</span> Environment</h2>
<p>Every time you create an object in R, you may notice the upper right window of R Studio start to populate with rows. This window displays the current R <strong>Environment</strong> (more specifically the <strong>global environment</strong>, though this distinction will not be important in most cases). For most analyses, this window will serve as a helpful reference to see what you have saved in your R session and what each object name refers to. It can also be used to easily open and view one of your R objects, which can be very helpful when you have loaded in datasets. First, note that there are two graphical styles that you can choose for this window using a button on the top, far right of the window. This button will state either <strong>List</strong> or <strong>Grid</strong>, depending on what style you currently are using. Just click the button and choose the option you want from the drop-down menu to change this style. <strong>Grid</strong> is generally the most user-friendly style. One nice feature of this style is the easy deletion of objects from your Environment (and thus, your computer’s memory). Simply select the blank, white squares next to the objects you wish to delete and press the <strong>Broom icon</strong> to delete them. To select all objects, select the blank, white square at the top of the window and press the Broom icon.</p>
<div class="figure">
<img src="Grid_Style.png" alt="Grid style with saved object x" />
<p class="caption">Grid style with saved object x</p>
</div>
</div>
<div id="putting-it-all-together-read.csv" class="section level2">
<h2><span class="header-section-number">3.8</span> Putting It All Together: read.csv</h2>
<p>Now that we understand R functions and objects, let us see how these concepts relate by again reading in a dataset using read.csv(). Again, we read in the AOSI data and save it in R as an object called excel_data.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" title="1">excel_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/cross-sec_aosi.csv&quot;</span>)</a></code></pre></div>
<p>When working with a dataset, it is important to make sure all of the variables are of the correct object type (numeric, character, etc.) and that missing values are correctly labeled as NA when the dataset is read into R. This because, from before, functions operate differently based on the type of data that is being used (recall the example where we tried to take the mean of a character variable). We can view the type of each column using <strong>sapply(excel_data, class)</strong>. The <strong>sapply()</strong> function is more advanced so we do not cover it here; those that are interested can view Chapter 10.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" title="1"><span class="kw">sapply</span>(excel_data, class)</a></code></pre></div>
<pre><code>##               Identifiers                     GROUP 
##                 &quot;integer&quot;                  &quot;factor&quot; 
##                Study_Site                    Gender 
##                  &quot;factor&quot;                  &quot;factor&quot; 
##    V06.aosi.Candidate_Age V06.aosi.total_score_1_18 
##                  &quot;factor&quot;                  &quot;factor&quot; 
##    V12.aosi.Candidate_Age V12.aosi.total_score_1_18 
##                  &quot;factor&quot;                  &quot;factor&quot;</code></pre>
<p>We see that variables which we would think of as numeric such as AOSI total score and Age are factor variables. Let’s look at month 12 AOSI total score more closely.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" title="1">excel_data<span class="op">$</span>V06.aosi.total_score_<span class="dv">1</span>_<span class="dv">18</span></a></code></pre></div>
<pre><code>##   [1] 8  18 4  .  6  .  16 10 .  .  8  10 .  9  6  11 .  .  3  18 14 .  12
##  [24] 14 18 .  .  5  5  5  12 11 10 7  8  12 10 8  9  11 16 9  10 18 12 11
##  [47] 13 16 13 12 5     7  14 8  13 9  12 15 10 8  10 5  9  12 10 12 10 12
##  [70] 12 12 11 9  12    9  9  .  15 10 10 3  .  2  9  19 10 10 11 11 8  4 
##  [93] 18 6  8  6  .  15 9  12 16 9  10 12 15 11 8  10 20 8  4  14 11 15 22
## [116] 16 .     9  14 12 13 22 20 10 12 12    6  14 20 12 11 7  10 .  5  . 
## [139] 10 12 11 .  12 .  .  14 .  9  19 12 .  6  7  9  11 .  15 10 13 10 19
## [162] 7  8  8  15 5  17 5  8  6  8  12 8  17 8  6  8  15 11 6  5  5  6  13
## [185] 9  7  5  15 4  6  9  6  4  3  14 1  4  9  9  24    12    6     5  5 
## [208] .  5  15 9  10 7  10 11 8  10 13 5  12 .  6  3  3  7     12 6  17 10
## [231] .  6  11 8  .  12 5  11 16 11 7  17 16 8  12 8  10 10 11 11 12 7  5 
## [254] 8  14 .  17 8  7  3  5  14 12 .  10 12 4  7  6  .  7  .  12 10 12 . 
## [277] 10 15 12 12 12 2  7  7  .  .  .  2  11 11 .  9  15 .  .  .  7  9  17
## [300] 4  6  6  .  11 12 .  .  .  11 14 15 11 14 17 6  .  10 4  5  9  7  7 
## [323] .  .  18 9     .  .  .  17 9  .  13 11 16 7  12 17 .  11 11 12 8  3 
## [346] 8  9  8  8  14 11 .  6  17 .  .  28 16 11 11 7  15 .  .  4  21 6  8 
## [369] 10 5  9  14 13 12 7  10 .  15 7  .  .  8  8  7  12 11 9  8  11 6  3 
## [392] 9  8  9  4  7  8  14 6  9  15 7  9  6  11 6  6  8  9  8  7  19 15 18
## [415] 10 12 5     5  .  7  9  .  .  .  14 11 4  6  10 10 7     5  .  17 . 
## [438] .  17 .  9  .  .     13 .  11 9  .  .     2  13 4  5  7  8  4  9  6 
## [461] 5  .  7  .  6  11 15 8  7  5  .  4  9  6  6  6  3  6  7  7  2  5  11
## [484] 4  9  5  10 5  16 .  7  4  8  9  .  17 7  8  7  .  8  .  4  9  .  24
## [507] 13 5  7  8  6  12 5  .  3  8  9  6  6  9  7  7  6  10 11 7  14 4  . 
## [530] 7  8  5  7  7  5  5  12 10 15 9  12 10 9  13 6  .  7  .  .  7  .  11
## [553] 3  7  7  6  3  7  13 7  8  4  13 15 .  .  8     .  3  5  8  2  6  8 
## [576] 16 5  .  12 .  9  7  7  5     6  10
## 26 Levels:  . 1 10 11 12 13 14 15 16 17 18 19 2 20 21 22 24 28 3 4 5 ... 9</code></pre>
<p>We see that the Excel sheet data for this variable has values in the form “.” and " “, which are meant to denote missing values. R considers these entries to be character values. As a result, since each column is a vector and thus each column needs to be a single type, R reads this column as a character variable. However, didn’t R tell us that this was a factor variable? This is due to the argument <strong>stringsAsFactors</strong> in read.csv(). This argument is set to TRUE by default; hence, R converts the character variable to a factor variable. This is generally what we to do with variables that are supposed to be character variables as you will see later (for example, gender). Setting it to FALSE keeps the variables as character variables. However, we do not want to consider variables like AOSI total score as character or factor variables. To do this, we need to tell R to consider the values”." and " " as missing values or NA. If this is done, then R will read the column as a collection of numbers and NA values, resulting in numeric being chosen as the variable’s type. To do this, we use the <strong>na.strings</strong> argument. By default, this argument is “NA”, implying that any values marked “NA” in the Excel sheet will be marked as missing (NA) when read in R. However, we often use different values to denote missing values (as seen here with “.” and " "). To select the values to be denoted as missing, we use <strong>na.strings=c(“.”, " ")</strong> in this example. That is, we provide a vector which contains the strings used to mark missing values as the value for na.strings.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" title="1">excel_data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/cross-sec_aosi.csv&quot;</span>, <span class="dt">na.strings=</span><span class="kw">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot; &quot;</span>))</a>
<a class="sourceLine" id="cb117-2" title="2">excel_data<span class="op">$</span>V06.aosi.total_score_<span class="dv">1</span>_<span class="dv">18</span></a></code></pre></div>
<pre><code>##   [1]  8 18  4 NA  6 NA 16 10 NA NA  8 10 NA  9  6 11 NA NA  3 18 14 NA 12
##  [24] 14 18 NA NA  5  5  5 12 11 10  7  8 12 10  8  9 11 16  9 10 18 12 11
##  [47] 13 16 13 12  5 NA  7 14  8 13  9 12 15 10  8 10  5  9 12 10 12 10 12
##  [70] 12 12 11  9 12 NA  9  9 NA 15 10 10  3 NA  2  9 19 10 10 11 11  8  4
##  [93] 18  6  8  6 NA 15  9 12 16  9 10 12 15 11  8 10 20  8  4 14 11 15 22
## [116] 16 NA NA  9 14 12 13 22 20 10 12 12 NA  6 14 20 12 11  7 10 NA  5 NA
## [139] 10 12 11 NA 12 NA NA 14 NA  9 19 12 NA  6  7  9 11 NA 15 10 13 10 19
## [162]  7  8  8 15  5 17  5  8  6  8 12  8 17  8  6  8 15 11  6  5  5  6 13
## [185]  9  7  5 15  4  6  9  6  4  3 14  1  4  9  9 24 NA 12 NA  6 NA  5  5
## [208] NA  5 15  9 10  7 10 11  8 10 13  5 12 NA  6  3  3  7 NA 12  6 17 10
## [231] NA  6 11  8 NA 12  5 11 16 11  7 17 16  8 12  8 10 10 11 11 12  7  5
## [254]  8 14 NA 17  8  7  3  5 14 12 NA 10 12  4  7  6 NA  7 NA 12 10 12 NA
## [277] 10 15 12 12 12  2  7  7 NA NA NA  2 11 11 NA  9 15 NA NA NA  7  9 17
## [300]  4  6  6 NA 11 12 NA NA NA 11 14 15 11 14 17  6 NA 10  4  5  9  7  7
## [323] NA NA 18  9 NA NA NA NA 17  9 NA 13 11 16  7 12 17 NA 11 11 12  8  3
## [346]  8  9  8  8 14 11 NA  6 17 NA NA 28 16 11 11  7 15 NA NA  4 21  6  8
## [369] 10  5  9 14 13 12  7 10 NA 15  7 NA NA  8  8  7 12 11  9  8 11  6  3
## [392]  9  8  9  4  7  8 14  6  9 15  7  9  6 11  6  6  8  9  8  7 19 15 18
## [415] 10 12  5 NA  5 NA  7  9 NA NA NA 14 11  4  6 10 10  7 NA  5 NA 17 NA
## [438] NA 17 NA  9 NA NA NA 13 NA 11  9 NA NA NA  2 13  4  5  7  8  4  9  6
## [461]  5 NA  7 NA  6 11 15  8  7  5 NA  4  9  6  6  6  3  6  7  7  2  5 11
## [484]  4  9  5 10  5 16 NA  7  4  8  9 NA 17  7  8  7 NA  8 NA  4  9 NA 24
## [507] 13  5  7  8  6 12  5 NA  3  8  9  6  6  9  7  7  6 10 11  7 14  4 NA
## [530]  7  8  5  7  7  5  5 12 10 15  9 12 10  9 13  6 NA  7 NA NA  7 NA 11
## [553]  3  7  7  6  3  7 13  7  8  4 13 15 NA NA  8 NA NA  3  5  8  2  6  8
## [576] 16  5 NA 12 NA  9  7  7  5 NA  6 10</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" title="1"><span class="kw">sapply</span>(excel_data, class)</a></code></pre></div>
<pre><code>##               Identifiers                     GROUP 
##                 &quot;integer&quot;                  &quot;factor&quot; 
##                Study_Site                    Gender 
##                  &quot;factor&quot;                  &quot;factor&quot; 
##    V06.aosi.Candidate_Age V06.aosi.total_score_1_18 
##                 &quot;numeric&quot;                 &quot;integer&quot; 
##    V12.aosi.Candidate_Age V12.aosi.total_score_1_18 
##                 &quot;numeric&quot;                 &quot;integer&quot;</code></pre>
<p>Now, we see that missing values are marked by NA and numeric variables are correctly read-in as numeric (or integer which is a type of numeric variable) by R.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introducing-r-and-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
